<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<title>Player-1 setup</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="style.css">
<style>
  body {
    color: rgb(109, 0, 111);
    background-image: url("https://cdn.nitrome.com/generated-content/images/snowman/tile.png");
  }
  .navbar {
            background-color: gainsboro;
            overflow: hidden;
            padding: 10px 20px;
        }

        .navbar a {
            float: left;
            color: black;
            text-align: center;
            padding: 14px 20px;
            text-decoration: none;
            font-size: 18px;
        }

        .navbar a:hover, .navbar a:focus {
            background-color: #ddd;
        }
  ul {
    list-style-type: none;
    display: inline;
    margin: 20px;
    padding: 10px;
    font-size: 40px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    border-radius: 15px;
  }

  .Difficulty {
    text-align: center;
  }

  .Timer {
    text-align: center;
  }

  .ButtonSpec {
    text-align: center; 
   margin-top: 25px;
  }

  .w3-display-middle {
    position: absolute; 
    top: 50px;
    left: 50%;  
    transform: translateX(-50%); 
    display: flex;
    flex-direction: column;
    justify-content: center; 
    align-items: center; 
  }

  #Butt:hover {
    background-color: red;
    cursor: pointer;
  }

  #Eazy:hover {
    background-color: lightblue;
    cursor: pointer;
  }

  #Mid:hover {
    background-color: rgb(0, 255, 255);
    cursor: pointer;
  }

  #Hard:hover {
    background-color: rgb(0, 139, 260);
    cursor: pointer;
  }

  #Time1:hover {
    background-color: lightblue;
    cursor: pointer;
  }

  #Time3:hover {
    background-color: rgb(0, 255, 255);
    cursor: pointer;
  }

  #Time5:hover {
    background-color: rgb(0, 139, 260);
    cursor: pointer;
  }

  p {
    font-size: 20px;
    text-align: center;
  }

  h1 {
    text-align: center;
    font-size: 40px;
  }

  .selected {
    background-color: rgb(0, 139, 260);
  }
  @media only screen and (max-width: 600px) {
            ul {
                font-size: 16px;
                margin: 5px;
                padding: 3px;
            }

            h1 {
                font-size: 20px;
            }

            p {
                font-size: 16px;
            }
            .navbar a{
                float: none;
                width: 100%;
                text-align: center;
            }
        }
</style>

<body>
  <div class="navbar">
    <a href="index.html" style="color:#142D4C;" class="w3-bar-item w3-button"><b>TT</b>Trivia Time</a>
    <!-- Float links to the right. Hide them on small screens -->
    <div class="w3-right w3-hide-small">
        <a href="History.html" style="color:#142D4C;" class="w3-bar-item w3-button">HighScore</a>
        <a href="#About" style="color:#142D4C;" class="w3-bar-item w3-button">About</a>
        <a href="#logout" style="color:#142D4C;" class="w3-bar-item w3-button" id="Logout">Logout</a>
    </div>
</div>
</div>
<h1 class="w3-xxlarge w3-text-rgb(0, 139, 260)"><u><i>Choose Your Setting</i></u></h1>

    <div class="w3-display-container">
        <div class="w3-display-middle">
        <div class="Difficulty">
          <p><b>Choose a difficulty</b></p>
          <ul id="Eazy" onclick="selectDifficulty('Easy')"> Easy</ul>
          <ul id="Mid" onclick="selectDifficulty('Medium')">Medium</ul>
          <ul id="Hard" onclick="selectDifficulty('Hard')"> Hard</ul>
        </div>
        <div class="Timer">
          <p><b>Select a time</b></p>
          <ul id="Time1" onclick="selectTime('1')">1 min</ul>
          <ul id="Time3" onclick="selectTime('3')">3 mins</ul>
          <ul id="Time5" onclick="selectTime('5')">5 mins</ul>
        </div>
        <div class="ButtonSpec">
          <button id="Butt" onclick="startGame()" style="background-color: #E75480; color: white; border: none; padding: 15px 30px; font-size: 20px; cursor: pointer; border-radius: 8px; box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);"><em><b>Ready</b></em></button>


        </div>
    </div>
  </div>
  <script src="redir.js" type="module"></script>
  <script>
   let selectedDifficulty = null;
    let selectedTime = null;
    let target = 0;

    function selectDifficulty(difficulty) {
      selectedDifficulty = difficulty;
      updateSelection(document.querySelectorAll('.Difficulty ul'), difficulty);
      setTarget();
    }

    function selectTime(time) {
      selectedTime = time;
      updateSelection(document.querySelectorAll('.Timer ul'), time);
      setTarget();
    }

    function updateSelection(elements, value) {
      elements.forEach(el => {
        el.classList.remove('selected');
        if (el.textContent.includes(value)) {
          el.classList.add('selected');
        }
      });
    }
    function setTarget() {
      if (selectedDifficulty === 'Easy' && selectedTime === '1') {
        target = 8;
      } else if (selectedDifficulty === 'Medium' && selectedTime === '1') {
        target = 12;
      } else if (selectedDifficulty === 'Hard' && selectedTime === '1') {
        target = 20;
      }
      else if (selectedDifficulty === 'Easy' && selectedTime === '3') {
        target = 15;
      }
      else if (selectedDifficulty === 'Medium' && selectedTime === '3') {
        target = 20;
      }
      else if (selectedDifficulty === 'Hard' && selectedTime === '3') {
        target = 30;
      }
      else if (selectedDifficulty === 'Easy' && selectedTime === '5') {
        target = 20;
      }
      else if (selectedDifficulty === 'Medium' && selectedTime === '5') {
        target = 35;
      }
      else if (selectedDifficulty === 'Hard' && selectedTime === '5') {
        target = 45;
      }
      else {
        target = 0;
      }
      localStorage.setItem('Difficulty',selectedDifficulty);
      localStorage.setItem('target', target);
      localStorage.setItem('Time',selectedTime);
      console.log('Target is now set to:', target);
    }

    function startGame() {
      if(!selectedDifficulty || !selectedTime) {
        alert('Please select both a difficulty and a time before starting the game.');
      }else{
        window.location.href = "P1trivia.html";
    }
  }
  </script>
</body>

</html>